<html>
<head>
    <meta charset='UTF-8'>
    <title>The diving simulator game</title>
    <script src="main.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css" />
</head>

<body>
    <div id=pane>
        <div id=game_over class=dialog>
            <h1>Game over!</h1>
            <p id=game_over_msg>You forgot to breathe.</p>
            <div>
                <button onclick='reset_game()'>Play again</button>
            </div>
        </div>
        <div id=paused class=dialog>
            <h1>Paused!</h1>
            <div>
                <button onclick=toggle_pause()>Unpause</button>
            </div>
        </div>
        <div id=splash class=dialog>
            <h1>Diving!</h1>
            <div>
                <button onclick=set_game_state('RUNNING')>Begin</button>
            </div>
        </div>
        <div id=gauge_assy>
            <img id=gauge src="gauge.svg">
            <img id=gauge_needle src="gauge-needle.svg">
            <p class=gauge_text_small id=dive_time>34</p>
            <p class=gauge_text_med id=depth>29.2</p>
            <p class=gauge_text_med id=max_depth>34.6</p>
            <p class=gauge_text_big id=no_deco_time>09</p>
        </div>
        <div id=lungs_assy>
            <img class=fill src="chest.svg">
            <img class="fill lung_background lung_left" src="left-lung.svg">
            <img class="fill lung_background lung_right" src="right-lung.svg">
            <img class="fill lung_foreground lung_left" src="left-lung.svg">
            <img class="fill lung_foreground lung_right" src="right-lung.svg">
            <img class="fill" id=expansion_warning src="expansion-injury-warning.svg">
            <img class="fill" id=breathless_warning src="breathless-warning.svg">
        </div>
        <div id=ears_assy>
            <img class=fill id=ears src="ears.svg">
            <img class=fill id=ears_pressure src="ears-pressure.svg">
            <img class=fill id=ears_uncomfortable src="ears-uncomfortable.svg">
            <img class=fill id=ears_pain src="ears-pain.svg">
            <img class=fill id=ears_warning src="ears-warning.svg">
            <img class=fill id=equalize_attempt src="equalize-attempt.svg">
            <img class=fill id=equalize_failure src="equalize-failure.svg">
        </div>
        <div id=text>
            <!--
            <table>
            <tr><td>Breathe in/out:</td><td>↑ / ↓</td></tr>
            <tr><td>Deflate/Inflate <a href="https://en.wikipedia.org/wiki/Buoyancy_compensator_(diving)">BCD</a>:</td><td>[ / ]</td></tr>
            <tr><td>Equalize:</td><td>Enter</td></tr>
            </table>
            -->
        </div>
        <div id=world>
            <object id=topo onload='init()' data="topo.svg"></object>
            <div id=diver>
                <img id=diver_body src="diver.svg">
            </div>
            <img id=dive_boat src="dive-boat.svg">
        </div>
    </div>
</body>

<script>
// These just fix the GUI while we're waiting for the topo to load.
reset_game();
set_game_state('SPLASH');
tick();
</script>

</html>

<!--

TODO list
---------

pick up treasure

Basic necessities:
- intro window
- model throat and other dead spaces to encourage deep steady breathing

Other features:
- clear mask
- decompression sickness

Advanced:
- dive when over / underweighed
- narcosis
- swimming in current

-->
