<html>
<head>
    <meta charset='UTF-8'>
    <title>Diving Simulation Game</title>
    <script src="main.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="icon" type="image/png" href="favicon.png">
</head>

<body>
    <div id=pane>
        <div id=world>
            <object id=topo onload='init()' data="topo.svg"></object>
            <div id=diver>
                <img id=diver_body src="diver.svg">
            </div>
            <img id=dive_boat src="dive-boat-alpha-flag.svg">
        </div>
        <div id=world1>
            <object id=topo1 data="topo1.svg"></object>
        </div>
        <div id=world2>
            <object id=topo2 data="topo2.svg"></object>
        </div>
        <div id=gauge_assy>
            <img id=gauge src="gauge.svg">
            <img id=gauge_needle src="gauge-needle.svg">
            <p class=gauge_text_small id=dive_time>34</p>
            <p class=gauge_text_med id=depth>29.2</p>
            <p class=gauge_text_med id=max_depth>34.6</p>
            <p class=gauge_text_big id=no_deco_time>09</p>
        </div>
        <div id=bust_assy>
            <img class=fill src="bust.svg">
            <img class="fill lung_background lung_left" src="left-lung.svg">
            <img class="fill lung_background lung_right" src="right-lung.svg">
            <img class="fill lung_foreground lung_left" src="left-lung.svg">
            <img class="fill lung_foreground lung_right" src="right-lung.svg">
            <img class="fill" id=expansion_warning src="expansion-injury-warning.svg">
            <img class="fill" id=breathless_warning src="breathless-warning.svg">
            <img class=fill id=ears_pressure src="ears-pressure.svg">
            <img class=fill id=ears_uncomfortable src="ears-uncomfortable.svg">
            <img class=fill id=ears_pain src="ears-pain.svg">
            <img class=fill id=ears_warning src="ears-warning.svg">
            <img class=fill id=equalize_attempt src="equalize-attempt.svg">
            <img class=fill id=equalize_failure src="equalize-failure.svg">
        </div>
        <div id=money>
        </div>
        <div id=text>
        </div>
        <div id=game_over class=dialog>
            <h1 id=game_over_title>Should never be seen.</h1>
            <p id=game_over_msg>Should never be seen.</p>
            <div>
                <button onclick='reset_game()'>Play again</button>
            </div>
        </div>
        <div id=paused class=dialog>
            <h1>Paused!</h1>
            <div>
                <button onclick=toggle_pause()>Unpause</button>
            </div>
        </div>
        <div id=splash class=dialog>
            <h1>Diving is easy. Prove it by collecting treasure!</h1>
            <p>
                All you have to do is swim over the treasure chests, then return
                to the dive boat without damaging yourself or the marine
                environment.
            </p>
            <table>
                <tr><td>Breathe in</td> <td><code>Up</code></td></tr>
                <tr><td>Breathe out</td> <td><code>Down</code></td></tr>
                <tr><td>Swim left</td> <td><code>Left</code></td></tr>
                <tr><td>Swim right</td> <td><code>Right</code></td></tr>
                <tr><td>Inflate <a href="https://en.wikipedia.org/wiki/Buoyancy_compensator_(diving)">BCD</a></td> <td><code>[</code></td></tr>
                <tr><td>Deflate BCD</td> <td><code>]</code></td></tr>
                <tr><td><a
                href=https://www.diversalertnetwork.org/health/SmartGuide-Ear/index.html>Equalize</a> ears</td> <td><code>Enter</code></td></tr>
                <tr><td>Pause</td> <td><code>P</code></td></tr>
            </table>
            <p>
                You can't equalize if your ears are in pain: ascend instead.
                You also can't breathe while equalizing.
            </p>
            <p>
                Beware of lung expansion injuries on ascent.  Friends don't let
                friends touch the coral.  Ascend a little if you're running out of
                no-decompression time.
            </p>
            <p>
                Have fun, but don't forget to breathe!
            </p>
            <div>
                <button onclick=set_game_state('RUNNING')>Begin</button>
            </div>
            <p class=small>
                Disclaimer: It probably goes without saying but this is not a
                dive computer / planner.  The models are not accurate enough. Do
                not use this to plan dives!
            </p>
        </div>
    </div>
</body>

<script>
// These just fix the GUI while we're waiting for the topo to load.
reset_game();
tick();
set_game_state('SPLASH');
</script>

</html>

<!--

TODO list
---------

Other features:
- clear mask
- decompression sickness

Advanced:
- dive when over / underweighed
- narcosis
- swimming in current

-->
